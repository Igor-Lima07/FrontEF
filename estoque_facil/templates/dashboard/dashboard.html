{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Estoque Fácil</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="{% static 'css/style_dashboard2.css' %}" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  />
  <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon" />
</head>
<body>
        <header>
            <img src="{% static 'images/logo.png' %}"></img>

            <a href="#"> <span class="icon"><i class="bi bi-gear"></i></span></a>

        </header>

  <nav class="menu-lateral" id="menuLateral">
    <ul>
      <li class="OlaUsuario">
        <div class="usuarioBox">
          <h1>Olá, {{ user.nome }}!</h1>
          <p class="usuarioCargo">{{ user.cargo }}</p>
        </div>
      </li>
      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'relatorios' %}">
          <i class="bi bi-table"></i>
          <span class="txt-link">Relatórios</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'produtos' %}">
          <i class="bi bi-plus-square"></i>
          <span class="txt-link">Produtos</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'estabelecer_acao' %}">
          <i class="bi bi-check-circle"></i>
          <span class="txt-link">Estabelecer ação</span>
        </a>
      </li>


      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'caixa' %}">
          <i class="bi bi-receipt"></i>
          <span class="txt-link">Caixa</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'funcionarios' %}">
          <i class="bi bi-person-fill"></i>
          <span class="txt-link">Funcionários</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'dashboard' %}">
          <i class="bi bi-columns-gap"></i>
          <span class="txt-link">Dashboard</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'historico' %}">
          <i class="bi bi-journal-text"></i>
          <span class="txt-link">Histórico de consulta</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="item-menu">
        <a href="{% url 'politica' %}">
          <i class="bi bi-shield-check"></i>
          <span class="txt-link">Política e segurança</span>
        </a>
      </li>

      <li class="LinhasM"></li>

      <li class="Edireitos">
        <p>© Estoque Fácil / Todos os direitos reservados</p>
      </li>
    </ul>
  </nav>

  <button id="toggleMenu" aria-label="Toggle Menu">
    <i class="bi bi-list"></i>
  </button>

  <main>

   <div class="cards-container">
      <div class="card green">
        <h2>{{ total_produtos }}</h2>
        <p>Produtos em Estoque</p>
      </div>

      <div class="card yellow">
        <h2>{{ produtos_proximos_validade }}</h2>
        <p>Próximos da Validade</p>
      </div>

      <div class="card red">
        <h2>{{ produtos_vencidos }}</h2>
        <p>Produtos Vencidos</p>
      </div>
    </div>

    <div class="graficosContainer">
      <div class="subContainer1">
        <div id="grafico1">
          {{ grafico_validade_div | safe }}
        </div>

        <div id="grafico3">
          {{ grafico_faturamento_categoria |safe }}
        </div>

        <div id="grafico4">
          {{ grafico_faturamento_diario|safe }}
        </div>

      </div>
      <div id="grafico6">
        {{ grafico_estoque_div | safe }}
      </div>




    </div>
  </main>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('toggleMenu');
    const menu = document.querySelector('.menu-lateral');
    const body = document.body;

    toggleBtn.addEventListener('click', () => {
      menu.classList.toggle('colapsado');
      body.classList.toggle('menu-colapsado');
    });
  });
</script>

</body>
</html>